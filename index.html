<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <title>Infoskjerm</title>
  <style>
    /* Bakgrunnen settes til hvit for å matche dagsplanen sømløst */
    html, body { 
      margin: 0; padding: 0; 
      background: white; 
      overflow: hidden; 
      width: 100%; height: 100%; 
    }
    #wrapper { 
      width: 100vw; height: 100vh; 
      position: relative; overflow: hidden; 
    }
    iframe { 
      position: absolute; 
      top: 0; left: 0; 
      border: none; 
      transform-origin: 0 0; 
    }
  </style>

  <script>
    const PAGES = [
      {
        url: "https://booking.aha.no/dagsplan-sambruk/",
        targetW: 1050 // Jo lavere tall, jo større blir teksten på TV-en
      },
      {
        url: "https://www.nrk.no/nyheter/",
        targetW: 0 // 0 betyr vanlig fullskjerm (for NRK/Yr)
      },
      {
        url: "https://booking.aha.no/dagsplan-sambruk/",
        targetW: 1050
      },
      {
        url: "https://www.yr.no/nb/innhold/1-211102/table.html?mode=dark",
        targetW: 0
      }
    ];

    let index = 0;

    function updateFrame() {
      const page = PAGES[index];
      const frame = document.getElementById("frame");
      const winW = window.innerWidth;
      const winH = window.innerHeight;
      
      if (page.targetW > 0) {
        // Beregn skalering slik at siden alltid treffer kanten av TV-skjermen
        const scale = winW / page.targetW;
        
        frame.style.width = page.targetW + "px";
        // Vi regner ut høyden slik at vi unngår scrollbar i bunnen
        frame.style.height = (winH / scale) + "px";
        frame.style.transform = "scale(" + scale + ")";
      } else {
        // Normal modus for NRK og Yr
        frame.style.width = "100%";
        frame.style.height = "100%";
        frame.style.transform = "scale(1)";
      }

      frame.src = page.url;
      index = (index + 1) % PAGES.length;
    }

    window.addEventListener("load", () => {
      updateFrame();
      setInterval(updateFrame, 30000); // 30 sekunder per slide
    });
  </script>
</head>
<body>
  <div id="wrapper"><iframe id="frame"></iframe></div>
</body>
</html>
